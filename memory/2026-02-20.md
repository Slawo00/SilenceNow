# 2026-02-20 - Noise Source Detection + Business Research

## CRON JOB: Business/Finance App Recherche (05:00 UTC)
- Recherchiert auf HackerNews + IndieHackers (Reddit/ProductHunt blocked)
- 4 Ideen gefunden: Home Maintenance, Service Quote Analysis, Environmental Impact Gifting, Reddit Marketing
- Empfehlung #1: Home Maintenance Platform (488 HN upvotes für "micasa")

## SLAWO SESSION: Noise Source Detection (19:49-20:16 UTC)

### KONTEXT
Slawo sendete langes Dokument (in ~8 Telegram-Nachrichten aufgeteilt) über Noise Source Detection.
5 Lösungsansätze: Frequenz-Profil, Multi-Mic Triangulation, ML Pattern Learning, Room Impulse Response, Motion-Sensor-Korrelation.

### IMPLEMENTIERT (commit e3bcb05, gepusht)

**Neue Files:**
- `src/utils/frequencyAnalysis.js` - FFT, Octave Bands, dBA/dBC, detectNoiseSource()
- `src/services/MotionDetector.js` - DeviceMotion Korrelation
- `src/screens/EventDetailScreen_UPDATE.js` - Enhanced UI
- `UPDATE_DATABASE_SCHEMA.sql` - DB Migration

**Erweiterte Files:**
- `EventDetectorV2.js` - Integration frequency analysis + motion
- `NoiseRecordingService.js` - EventDetectorV2 mit audio buffer
- `DatabaseService.js` - Neue Spalten (source_detection, octave_bands, dba_dbc_data, motion_data, confidence_score)
- `NotificationService.js` - sound: null → false (iOS crash fix)
- `EventDetailScreen.js` - Robustere timestamp parsing (Invalid Date fix)

### BUG FIXES
1. **NotificationService.js:366** - `Cannot cast 'nil' for field 'sound'` → sound: null → false, sound: true → 'default'
2. **"Invalid Date"** in EventDetailScreen → Robustere parseTimestamp() Funktion

### REPLIT DEPLOYMENT
- `git pull` + `git merge origin/main` in ~/workspace
- `cp projects/SilenceNow/src/... src/...` (Replit hat 2 Verzeichnisse!)
- **FEHLER:** `expo-sensors` nicht installiert → App crasht mit "Unable to resolve module expo-sensors"
- **FIX PENDING:** Slawo muss `npx expo install expo-sensors` ausführen

### KRITISCHE ERINNERUNG: REPLIT SYNC
- Replit hat ZWEI Orte: `~/workspace/src/` (Expo liest) und `~/workspace/projects/SilenceNow/` (git)
- Nach git pull IMMER `cp projects/SilenceNow/src/* src/` machen!
- Neue Packages: `npx expo install <package>` in ~/workspace

### SLAWO'S SCREENSHOTS (BEWEIS - APP STATUS VOR UPDATE)
- HomeScreen: Monitoring pausiert, 0 Ereignisse, 0 dB
- Event: "Trittschall/Schritte" 69dB 53s, KI 65%, **Invalid Date** Bug
- Frequenz-Profil: Bass 22.6, Low-Mid 16, Mid 17, High-Mid 8.9, High 4.8
- Rechtliche Einordnung: 69dB > 55dB Schwellwert, §536 BGB
- Console Error: NotificationService.js:366 sound nil crash